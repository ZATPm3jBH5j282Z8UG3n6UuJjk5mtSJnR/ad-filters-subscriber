##########################################
## !!! ALL in ONE Rule
##########################################
application:

  input:

    - name: 'Hagezi - ğŸ“• Multi ULTIMATE - Aggressive Protection'
      path: 'https://cdn.jsdelivr.net/gh/hagezi/dns-blocklists@latest/adblock/ultimate.txt'
      type: hosts

    - name: '1Hosts - Xtra'
      path: 'https://badmojr.github.io/1Hosts/Xtra/adblock.txt'
      type: hosts

  #è¾“å‡ºé…ç½®
  output:
    #æ–‡ä»¶å¤´é…ç½®ï¼Œå°†è‡ªåŠ¨ä½œä¸ºæ³¨é‡Šæ·»åŠ è‡³æ¯ä¸ªè§„åˆ™æ–‡ä»¶å¼€å§‹
    #å¯ä½¿ç”¨å ä½ç¬¦ ${name}ã€${type}ã€${desc} ä»¥åŠ ${date} (å½“å‰æ—¥æœŸ)ã€${total} (è§„åˆ™æ€»æ•°)
    file_header: |
      ADFS AdBlock ${type}
      Last Modified: ${date}
      Total Size: ${total}
      Homepage: https://github.com/fordes123/ad-filters-subscriber/

    #è¾“å‡ºè§„åˆ™æ–‡ä»¶åˆ—è¡¨ ï¼ˆï¼æ³¨æ„ç¼©è¿›ï¼Œä¸”æ¯ä¸ªç±»å‹åªèƒ½è¾“å‡ºä¸€ä¸ªæ–‡ä»¶ï¼‰
    files:
      - name: easylist.txt     #å¿…è¦å‚æ•°: æ–‡ä»¶å
        type: easylist         #å¿…è¦å‚æ•°: æ–‡ä»¶ç±»å‹: easylistã€dnsmasqã€clashã€smartdnsã€hosts
        file_header:           #å¯é€‰å‚æ•°: æ–‡ä»¶å¤´é…ç½®ï¼Œå°†è‡ªåŠ¨ä½œä¸ºæ³¨é‡Šæ·»åŠ è‡³æ¯ä¸ªè§„åˆ™æ–‡ä»¶å¼€å§‹ (æ­¤å¤„ä¼˜å…ˆäº output.file_header)
        desc: 'ADFS EasyList'  #å¯é€‰å‚æ•°: æ–‡ä»¶æè¿°ï¼Œå¯åœ¨file_headerä¸­é€šè¿‡ ${} ä¸­ä½¿ç”¨
        filter:
          - basic              #åŸºæœ¬è§„åˆ™ï¼Œä¸åŒ…å«ä»»ä½•æ§åˆ¶ã€åŒ¹é…ç¬¦å·, å¯ä»¥è½¬æ¢ä¸º hosts
          - wildcard           #é€šé…è§„åˆ™ï¼Œä»…ä½¿ç”¨é€šé…ç¬¦
          - unknown            #å…¶ä»–è§„åˆ™ï¼Œå¦‚ä½¿ç”¨äº†æ­£åˆ™ã€é«˜çº§ä¿®é¥°ç¬¦å·çš„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™ç›®å‰æ— æ³•è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼

        rule:                  #å¯é€‰å‚æ•°: é™å®šæ­¤æ–‡ä»¶ä½¿ç”¨çš„è§„åˆ™æºï¼Œå¦‚æœä¸æŒ‡å®šåˆ™ä½¿ç”¨ input ä¸­çš„æ‰€æœ‰è§„åˆ™æº
          - Subscription 1
          - Subscription 2

      - name: dns.txt
        type: easylist
        filter:
          - basic
          - wildcard

      - name: dnsmasq.txt
        type: dnsmasq

      - name: clash.yaml
        type: clash

      - name: smartdns.txt
        type: smartdns

      - name: hosts.txt
        type: hosts


  # ç¨‹åºè¿è¡Œé…ç½®ï¼ˆå¯é€‰ï¼‰
  # ï¼åˆ é™¤å³ä½¿ç”¨é»˜è®¤é…ç½®
  config:

    expected_quantity: 2000000  #é¢„æœŸè§„åˆ™æ•°é‡
    fault_tolerance: 0.001 #å®¹é”™ç‡
    warn_limit: 6 #è­¦å‘Šé˜ˆå€¼, åŸå§‹è§„åˆ™é•¿åº¦å°äºè¯¥å€¼æ—¶ä¼šè¾“å‡ºè­¦å‘Šæ—¥å¿—

    # åŸŸåæ£€æµ‹ï¼Œå¯ç”¨æ—¶å°†è¿›è¡Œè§£æä»¥éªŒè¯åŸŸåæœ‰æ•ˆæ€§
    # ï¼å¼€å¯æ­¤åŠŸèƒ½å¯èƒ½å¯¼è‡´å¤„ç†æ—¶é—´å¤§å¹…å»¶é•¿
    # ï¼ä»…æ”¯æŒç‰¹å®šè§„åˆ™ï¼Œå…·ä½“åŸå› è¯·æŸ¥çœ‹é¡¹ç›®ä¸»é¡µè¯´æ˜
    domain-detect:
      enable: false   # æ˜¯å¦å¯ç”¨
      timeout: 2000   # æŸ¥è¯¢è¶…æ—¶ï¼ˆæ¯«ç§’ï¼‰
      concurrency: 10 # å¹¶å‘æŸ¥è¯¢æ•°
      cache-ttl-min: 600            # ç¼“å­˜æœ€å°TTLï¼ˆç§’ï¼‰
      cache-ttl-max: 86400          # ç¼“å­˜æœ€å¤§TTLï¼ˆç§’ï¼‰
      cache-negative-ttl: 300       # å¤±è´¥ç»“æœç¼“å­˜TTLï¼ˆç§’ï¼‰
      provider:       # ä½¿ç”¨çš„ DNS æœåŠ¡å™¨ï¼Œä»…æ”¯æŒ IPï¼Œå¤šä¸ªä¹‹é—´å…·å¤‡ä¼˜å…ˆçº§; ä¸ºç©ºåˆ™ä½¿ç”¨é»˜è®¤DNS
        - 223.5.5.5

    # æ’é™¤æŒ‡å®šå†…å®¹
    # åœ¨è§£æç»“æŸåï¼Œè§„åˆ™å†…å®¹å‘½ä¸­æ­¤åˆ—è¡¨å°†ç›´æ¥è®¤å®šä¸ºæ— æ•ˆ
    exclude:
      - "www.example.org"

    # é€šè¿‡æ–‡ä»¶æ”¶é›†ç¨‹åºè®¤å®šæ— æ•ˆçš„è§„åˆ™ï¼Œç”¨äºæ’æŸ¥é—®é¢˜
    tracking:
      enable: true
      path: logs/tracking.list
